extend type Query {
    users(
        "Filters by name. Accepts SQL LIKE wildcards `%` and `_`."
        filter: Filter @scope
        orderBy: [OrderByClause!] @orderBy
    ): [User!]!
    @paginate(defaultCount: 10)
        @can(ability: "users.read", model: "App\\Domain\\Users\\Models\\User")
    
    user(
        "Find a single user by an identifying attribute."
        id: ID @eq @rules(apply: ["prohibits:email", "required_without:email"])
        "Search by email address."
        email: String @eq @rules(apply: ["prohibits:id", "required_without:id", "email"])
    ): User @find
}